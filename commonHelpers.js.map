{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst listOfImages = document.querySelector('#images');\n\nexport default function createMarkup(fetchedData) {\n  clearImageList();\n  const markup = generateMarkup(fetchedData.hits);\n  insertMarkup(markup);\n  initializeLightbox();\n}\n\nfunction clearImageList() {\n  listOfImages.innerHTML = '';\n}\n\nfunction generateMarkup(images) {\n  return images\n    .map(image => {\n      return `\n        <li class=\"images-image\">\n          <div class=\"gallery\">\n            <a href=\"${image.largeImageURL}\">\n              <img class=\"img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"${image.tags}\" />\n            </a>\n          </div>\n          <ul class=\"image-details-container\">\n            <li>\n              <h2 class=\"image-heading\">Likes</h2>\n              <p class=\"image-description\">${image.likes}</p>\n            </li>\n            <li>\n              <h2 class=\"image-heading\">Views</h2>\n              <p class=\"image-description\">${image.views}</p>\n            </li>\n            <li>\n              <h2 class=\"image-heading\">Comments</h2>\n              <p class=\"image-description\">${image.comments}</p>\n            </li>\n            <li>\n              <h2 class=\"image-heading\">Downloads</h2>\n              <p class=\"image-description\">${image.downloads}</p>\n            </li>\n          </ul>\n        </li>`;\n    })\n    .join('');\n}\n\nfunction insertMarkup(markup) {\n  listOfImages.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction initializeLightbox() {\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'title',\n    captionDelay: 350,\n  });\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport createMarkup from './render-functions';\n\nconst API_KEY = '44303353-9b630a8fdc8cdbe3ae770ff69';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst loader = document.querySelector('.loader');\nconst listOfImages = document.querySelector('#images');\n\nexport default function fetchImages(searchValue) {\n  resetImageList();\n  showLoader();\n\n  const url = constructURL(searchValue);\n\n  fetch(url)\n    .then(handleResponse)\n    .then(data => handleData(data))\n    .catch(handleError)\n    .finally(hideLoader);\n}\n\nfunction resetImageList() {\n  listOfImages.innerHTML = '';\n}\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nfunction constructURL(searchValue) {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return `${BASE_URL}?${searchParams}`;\n}\n\nfunction handleResponse(response) {\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return response.json();\n}\n\nfunction handleData(data) {\n  if (data.total === 0) {\n    showNoResultsMessage();\n    return;\n  }\n  createMarkup(data);\n}\n\nfunction showNoResultsMessage() {\n  iziToast.show({\n    class: 'search-404',\n    message:\n      'Sorry, there are no images matching your search query. Please, try again!',\n    position: 'topRight',\n    iconUrl: icon,\n    backgroundColor: '#EF4040',\n    transitionIn: 'bounceInDown',\n    transitionOut: 'fadeOutUp',\n    theme: 'dark',\n    closeOnClick: true,\n  });\n}\n\nfunction handleError(error) {\n  console.error('Fetch error:', error.message);\n}\n","import fetchImages from './js/pixabay-api';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', handleFormSubmit);\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const inputValue = getInputValue(event);\n  if (!inputValue) return;\n  fetchImages(inputValue);\n  form.reset();\n}\n\nfunction getInputValue(event) {\n  return event.currentTarget.elements.search.value.trim();\n}\n"],"names":["listOfImages","createMarkup","fetchedData","clearImageList","markup","generateMarkup","insertMarkup","initializeLightbox","images","image","SimpleLightbox","API_KEY","BASE_URL","loader","fetchImages","searchValue","resetImageList","showLoader","url","constructURL","handleResponse","data","handleData","handleError","hideLoader","searchParams","response","showNoResultsMessage","iziToast","error","form","handleFormSubmit","event","inputValue","getInputValue"],"mappings":"6vBAGA,MAAMA,EAAe,SAAS,cAAc,SAAS,EAEtC,SAASC,EAAaC,EAAa,CAChDC,IACA,MAAMC,EAASC,EAAeH,EAAY,IAAI,EAC9CI,EAAaF,CAAM,EACnBG,GACF,CAEA,SAASJ,GAAiB,CACxBH,EAAa,UAAY,EAC3B,CAEA,SAASK,EAAeG,EAAQ,CAC9B,OAAOA,EACJ,IAAIC,GACI;AAAA;AAAA;AAAA,uBAGUA,EAAM,aAAa;AAAA,sCACJA,EAAM,YAAY,UAAUA,EAAM,IAAI,YAAYA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAMrDA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,6CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAIvD,EACA,KAAK,EAAE,CACZ,CAEA,SAASH,EAAaF,EAAQ,CAC5BJ,EAAa,mBAAmB,YAAaI,CAAM,CACrD,CAEA,SAASG,GAAqB,CACX,IAAIG,EAAe,aAAc,CAChD,aAAc,QACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CCvDA,MAAMC,EAAU,qCACVC,EAAW,2BACXC,EAAS,SAAS,cAAc,SAAS,EACzCb,EAAe,SAAS,cAAc,SAAS,EAEtC,SAASc,EAAYC,EAAa,CAC/CC,IACAC,IAEA,MAAMC,EAAMC,EAAaJ,CAAW,EAEpC,MAAMG,CAAG,EACN,KAAKE,CAAc,EACnB,KAAKC,GAAQC,EAAWD,CAAI,CAAC,EAC7B,MAAME,CAAW,EACjB,QAAQC,CAAU,CACvB,CAEA,SAASR,GAAiB,CACxBhB,EAAa,UAAY,EAC3B,CAEA,SAASiB,GAAa,CACpBJ,EAAO,MAAM,QAAU,OACzB,CAEA,SAASW,GAAa,CACpBX,EAAO,MAAM,QAAU,MACzB,CAEA,SAASM,EAAaJ,EAAa,CACjC,MAAMU,EAAe,IAAI,gBAAgB,CACvC,IAAKd,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAO,GAAGH,CAAQ,IAAIa,CAAY,EACpC,CAEA,SAASL,EAAeM,EAAU,CAChC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MAClB,CAEA,SAASJ,EAAWD,EAAM,CACxB,GAAIA,EAAK,QAAU,EAAG,CACpBM,IACA,MACD,CACD1B,EAAaoB,CAAI,CACnB,CAEA,SAASM,GAAuB,CAC9BC,EAAS,KAAK,CACZ,MAAO,aACP,QACE,4EACF,SAAU,WACV,QAAS,KACT,gBAAiB,UACjB,aAAc,eACd,cAAe,YACf,MAAO,OACP,aAAc,EAClB,CAAG,CACH,CAEA,SAASL,EAAYM,EAAO,CAC1B,QAAQ,MAAM,eAAgBA,EAAM,OAAO,CAC7C,CC5EA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAgB,EAEhD,SAASA,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAaC,EAAcF,CAAK,EACjCC,IACLnB,EAAYmB,CAAU,EACtBH,EAAK,MAAK,EACZ,CAEA,SAASI,EAAcF,EAAO,CAC5B,OAAOA,EAAM,cAAc,SAAS,OAAO,MAAM,MACnD"}